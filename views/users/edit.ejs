<% layout("layouts/boilerplate") -%>
    <div class="row">
        <h1 class="text-center lead fs-1"> Edit Profile Details </h1>
            <div class="col-6 offset-3">
                    <form action="/profile/<%=user._id%>?_method=PUT" method="POST" novalidate class="validated-form" enctype="multipart/form-data">
                    <div class="input-group mb-3">
                        <label class="form-label" for="age"></label>
                        <span class="input-group-text" >Age</span>
                        <input class="form-control" type="text" name="user[age]" id="age" value="<%=user.age%>" required>
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                    </div>
                    <div class="input-group mb-3">
                        <label class="form-label" for="from"></label>
                        <span class="input-group-text" >From</span>
                        <input class="form-control" type="text" name="user[from]" id="from" value="<%=user.from%>" required>
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                    </div>
                    <div class="input-group ">

                        <label class="form-label" for="about"></label>
                        <span class="input-group-text" >About</span>
                        <textarea class="form-control" type="text" name="user[about]" id="about" required ><%=user.about%></textarea>
                        <div class="valid-feedback">
                            Looks good!
                        </div>           
                    </div>
                    <div id="aboutHelp" class="form-text mb-2"></div>
                    <% if(user.profileImage.filename==="default"){ %> 
                    <div class="mb-3 mt-2">
                        <label for="image" class="form-label">Profile Image</label>
                        <input type="file" name="image" id="image" class="form-control" multiple required>
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                        <div id="profileImageHelp" class="form-text">Currently due to hosting limitations, you may only set one profile picture. Make it a good one!</div>
                    </div>
                    <% } %> 
                    <div class="mb-3 d-flex justify-content-center">
                        <button class="btn btn-info">Update Profile</button>
                    </div>
                    <div class="mb-3 d-flex justify-content-center">
                        <a class="card-link btn btn-secondary" href="/profile/<%=user._id%>">Back To Profile</a>
                    </div>
                </form>
            </div>  
    </div>
    <script src="/javascripts/validateForms.js"></script>
    <script src="/javascripts/displayInputLimits.js"></script>
